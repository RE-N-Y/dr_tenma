type Patient
  @model
  @auth(
    rules: [
      {
        allow: groups
        groups: ["admin", "manager"]
        operations: [create, update, delete, read]
      }
      { allow: owner, operations: [create, read] }
    ]
  ) {
  id: ID!
  name: String
  email: AWSEmail!
  records: [Symptom] @connection(keyName: "byPatient", fields: ["id"])
}

type Symptom
  @model
  @key(name: "byPatient", fields: ["patientID"])
  @auth(
    rules: [
      {
        allow: groups
        groups: ["admin", "manager"]
        operations: [create, update, delete, read]
      }
      { allow: owner, operations: [create, read] }
    ]
  ) {
  id: ID!
  patientID: ID!
  fever: Int!
  coughing: Int!
  breathing: Int!
  soreThroat: Int!
  allergies: Int!
  bodyAches: Int!
  temperature: Float!
  location: Location
  note: String
  createdAt: AWSDateTime!
}

type Location {
  longitude: Float!
  latitude: Float!
}
